/* base */
@layer base {
  html { scroll-behavior: smooth; }
  body { color: var(--fg); background: var(--bg); }
}

/* components */
@layer components {
  /* เดิม: app-shell, page-pad เป็นคลาส; เราใส่คุณสมบัติโดยตรงแทนการ compose */
  .app-shell { padding-left: var(--sidebar-w); }
  .page-pad { padding: var(--page-pad-y) var(--page-pad-x); }
  .page-container { max-width: var(--content-w); width:100%; margin-inline:auto; }

  /* card/panel: ใช้เฉพาะ @apply ของยูทิลิตี้ Tailwind ได้ */
  .card {
    @apply rounded-2xl shadow-sm ring-1 ring-inset;
    border-color: var(--border);
    background: var(--surface);
    padding: var(--card-pad);
  }
  .panel {
    @apply rounded-2xl shadow-sm ring-1 ring-inset;
    border-color: var(--border);
    background: var(--surface);
    padding: 1.5rem; /* panel กว้างกว่า card นิดนึง */
  }

  /* page header: ใส่ค่าโดยตรง แทน @apply section */
  .page-header { padding-block: calc(var(--section-gap) * 0.5); }

  .page-title { @apply text-xl font-semibold leading-tight; }
  .page-subtitle { @apply text-sm; color: var(--muted); }

  .metric { @apply rounded-2xl shadow-sm ring-1 ring-inset; border-color: var(--border); background: var(--surface); padding: var(--card-pad); }
  .metric-title { @apply text-xs font-medium; color: var(--muted); }
  .metric-value { @apply text-2xl font-semibold mt-1; }
  .metric-bar { height:6px; border-radius:9999px; overflow:hidden; background: color-mix(in oklab, var(--accent) 20%, transparent); }
  .metric-bar > i { display:block; height:100%; width: var(--progress, 0%); background: var(--accent); }

  .badge { @apply inline-flex items-center gap-1 rounded-full px-2 h-6 text-xs font-medium; border:1px solid; border-color:var(--border); background:transparent; }
  .dot { width:8px; height:8px; border-radius:9999px; background: currentColor; }

  .table { @apply w-full text-sm; border-collapse:separate; border-spacing:0; }
  .table thead th { @apply text-left font-medium; padding:10px 12px; }
  .table tbody td { @apply align-middle; padding:12px; }
  .table tbody tr + tr { border-top:1px solid var(--border); }
  .table tfoot td { @apply text-sm; color:var(--muted); padding:10px 12px; }

  .grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
  .grid-3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }
}

/* utilities */
@layer utilities {
  /* เขียนคุณสมบัติโดยตรง แทน @apply app-shell page-pad */
  .content-shell { padding-left: var(--sidebar-w); padding: var(--page-pad-y) var(--page-pad-x); }

  .stack > * + * { margin-top: var(--section-gap); }
  .section { padding-block: calc(var(--section-gap) * 0.5); }
}
